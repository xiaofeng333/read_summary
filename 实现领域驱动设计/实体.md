---
title: 实体
tags: DDD
date: 2021-03-18 11:59

---

### 前言

领域语言优于技术实现。

### 为什么使用实体

当需要考虑一个对象的个性特征或者区分不同对象时, 引入实体这个领域概念。

一个实体是唯一的, 并且可以在相当长的一段时间内持续的变化。

<font color='red'>唯一的身份标识</font>和<font color='red'>可变性</font>将实体对象和值对象区分开来。

### 标识

在实体的整个生命周期中保持标识的稳定性, 标识生成的时间既可以发生在对象创建的时候, 也可以发生在持久化对象的时候。

#### 类型

* 实体标识

* 委派标识: ORM框架使用, 用于处理对象的身份标识(该种标识不应在实体的考虑范围)。

#### 唯一标识生成的方式

* 用户提供。
* 应用程序生成。
* 持久化机制的id。
* 另一个限界上下文。

### 实体的本质特征

名词用于给概念命名, 形容词用于描述这些概念, 动词表示可以完成的操作。

### 验证

验证主要目的在于检查模型的正确性。

#### 验证属性

使用自封装性来验证属性, 其要求无论以哪种方式访问数据, 即使从属性内部访问数据, 都必须通过getter和setter方法。

#### 验证整体对象

延迟验证, 即到最后一刻才进行验证。

### 拓展

有了领域事件, 我们可以对对象的整个生命周期进行跟踪, 也可以通知外部订阅方完成同步操作。
